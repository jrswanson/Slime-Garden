!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.width=n,this.height=r,this.spores=o,this.garden=this.generateGarden(),this.competeArr=this.generateCompeteArr()}var t,n,o;return t=e,(n=[{key:"generateGarden",value:function(){for(var e=[],t=0;t<this.width;t++){for(var n=[],r=0;r<this.height;r++)n.push(this.spores.empty);e.push(n)}return e}},{key:"generateCompeteArr",value:function(){for(var e=[],t=0;t<this.width;t++){for(var n=[],r=0;r<this.height;r++)n.push({});e.push(n)}return e}},{key:"updatePixel",value:function(e,t,n){this.garden[e][t]=this.spores[n]}},{key:"countNeighbors",value:function(e,t,n){for(var r=0,o=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],a=0;a<o.length;a++){var i=o[a],l=e+i[0],p=t+i[1];if(l>=0&&l<this.width&&p>=0&&p<this.height)this.garden[l][p].type===n&&r++}return r}},{key:"reproduction",value:function(e,t,n){for(var r=0;r<n.growthPattern.length;r++){var o=n.growthPattern[r],a=e+o[0],i=t+o[1];if(a>=0&&a<this.width&&i>=0&&i<this.height)this.competeArr[a][i][n.name]=n}}},{key:"processCompetition",value:function(e,t,n,r){for(var o=Object.values(n),a=null,i=0,l=0;l<o.length;l++){var p=Math.random(),u=o[l].growthRate,s=o[l].toughness;u>p&&s-p>i&&o[l].type===r&&(a=o[l],i=s-p)}a&&this.countNeighbors(e,t,a.type)<3&&(this.garden[e][t]=a)}},{key:"processAnimalVsFungus",value:function(e,t,n){for(var r=Object.values(n),o=null,a=0,i=0;i<r.length;i++){var l=Math.random(),p=r[i].growthRate,u=r[i].toughness;p>l&&u-l>a&&r[i].type>1&&(o=r[i],a=u-l)}if(o&&this.countNeighbors(e,t,o.type)<3){var s=Math.random(),h=Math.random();o.toughness-s>this.garden[e][t].toughness-h&&(this.garden[e][t]=o)}}},{key:"sortCompetition",value:function(e,t,n){-1===this.garden[e][t].type?this.processCompetition(e,t,n,1):0===this.garden[e][t].type?this.processCompetition(e,t,n,2):1===this.garden[e][t].type?this.processCompetition(e,t,n,3):2!==this.garden[e][t].type&&3!==this.garden[e][t].type||this.processAnimalVsFungus(e,t,n)}},{key:"updateGarden",value:function(){for(var e=0;e<this.garden.length;e++)for(var t=this.garden[e],n=0;n<t.length;n++){var r=t[n],o=Math.random()<r.lifeSpan;1!==r.type||o?0===r.type&&o||(r.type>0&&o?this.reproduction(e,n,r):this.garden[e][n]=this.spores.empty):this.garden[e][n]=this.spores[r.name[0]+"Dead"]}for(var a=0;a<this.competeArr.length;a++)for(var i=this.competeArr[a],l=0;l<i.length;l++){var p=this.competeArr[a][l];this.sortCompetition(a,l,p),this.competeArr[a][l]={}}}},{key:"renderGarden",value:function(){for(var e=0;e<this.garden.length;e++)for(var t=this.garden[e],n=0;n<t.length;n++)this.canvas.fillStyle=t[n].color,this.canvas.fillRect(2*e,2*n,2,2)}}])&&r(t.prototype,n),o&&r(t,o),e}(),a={empty:{growthRate:0,growthPattern:[],toughness:0,lifeSpan:0,type:-1,name:"empty",color:"#1D1D1D"},rDead:{growthRate:0,growthPattern:[],toughness:1,lifeSpan:.5,type:0,name:"rDead",color:"#68543c"},mDead:{growthRate:0,growthPattern:[],toughness:1,lifeSpan:.99,type:0,name:"mDead",color:"#6f491d"},kDead:{growthRate:0,growthPattern:[],toughness:1,lifeSpan:.999,type:0,name:"kDead",color:"#442d12"},rPlantSpore:{growthRate:.99,growthPattern:[[-3,0],[-2,2],[0,3],[2,2],[3,0],[2,-2],[0,-3],[-2,-2]],toughness:.3,lifeSpan:.5,type:1,name:"rPlantSpore",color:"#b7ff6a"},mPlantSpore:{growthRate:.2,growthPattern:[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],toughness:.5,lifeSpan:.9,type:1,name:"mPlantSpore",color:"#52FF00"},kPlantSpore:{growthRate:.1,growthPattern:[[-1,0],[0,1],[1,0],[0,-1]],toughness:.9,lifeSpan:.99,type:1,name:"kPlantSpore",color:"#038400"},rFungusSpore:{growthRate:.99,growthPattern:[[-1,0],[-2,2],[0,1],[2,2],[1,0],[2,-2],[0,-1],[-2,-2]],toughness:.3,lifeSpan:.7,type:2,name:"rFungusSpore",color:"#b3ffe5"},mFungusSpore:{growthRate:.2,growthPattern:[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],toughness:.5,lifeSpan:.9,type:2,name:"mFungusSpore",color:"#00fcff"},kFungusSpore:{growthRate:.1,growthPattern:[[-1,0],[0,1],[1,0],[0,-1]],toughness:.9,lifeSpan:.99,type:2,name:"kFungusSpore",color:"#0083c7"},rAnimalSpore:{growthRate:.9,growthPattern:[[-4,0],[-3,3],[0,4],[3,3],[4,0],[3,-3],[0,-4],[-3,-3]],toughness:.3,lifeSpan:.9,type:3,name:"rAnimalSpore",color:"#ff7c66"},mAnimalSpore:{growthRate:.7,growthPattern:[[-3,0],[-2,2],[0,3],[2,2],[3,0],[2,-2],[0,-3],[-2,-2]],toughness:.5,lifeSpan:.95,type:3,name:"mAnimalSpore",color:"#ff2400"},kAnimalSpore:{growthRate:.5,growthPattern:[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],toughness:.9,lifeSpan:.99,type:3,name:"kAnimalSpore",color:"#9d1600"}},i=document.getElementById("canvas"),l=i.getContext("2d"),p=new o(l,300,200,a),u="mPlantSpore",s=!1;i.addEventListener("mousedown",function(e){s=!0;var t=[Math.floor(e.offsetX/2)],n=[Math.floor(e.offsetY/2)];p.updatePixel(t,n,u)}),i.addEventListener("mousemove",function(e){if(s){var t=[Math.floor(e.offsetX/2)],n=[Math.floor(e.offsetY/2)];p.updatePixel(t,n,u)}}),i.addEventListener("mouseup",function(e){s=!1}),i.addEventListener("mouseleave",function(e){s=!1});window.clearStart=function(){document.getElementById("start-screen").id="hidden"};window.clearHelp=function(){var e=document.getElementById("help-dialog");e&&(e.id="hidden")};window.selectRPlant=function(){u="rPlantSpore"};window.selectMPlant=function(){u="mPlantSpore"};window.selectKPlant=function(){u="kPlantSpore"};window.selectRFungus=function(){u="rFungusSpore"};window.selectMFungus=function(){u="mFungusSpore"};window.selectKFungus=function(){u="kFungusSpore"};window.selectRAnimal=function(){u="rAnimalSpore"};window.selectMAnimal=function(){u="mAnimalSpore"};window.selectKAnimal=function(){u="kAnimalSpore"};window.resetGarden=function(){p=new o(l,300,200,a)};window.demoGarden=function(){(p=new o(l,300,200,a)).updatePixel(100,50,"mPlantSpore"),p.updatePixel(101,50,"kFungusSpore"),p.updatePixel(102,50,"mPlantSpore"),p.updatePixel(100,51,"mPlantSpore"),p.updatePixel(101,51,"kFungusSpore"),p.updatePixel(102,51,"mPlantSpore"),p.updatePixel(100,52,"mPlantSpore"),p.updatePixel(101,52,"kFungusSpore"),p.updatePixel(102,52,"mPlantSpore"),p.updatePixel(220,130,"kPlantSpore"),p.updatePixel(221,130,"kPlantSpore"),p.updatePixel(222,130,"kPlantSpore"),p.updatePixel(220,131,"kPlantSpore"),p.updatePixel(221,131,"kPlantSpore"),p.updatePixel(222,131,"kPlantSpore"),p.updatePixel(220,132,"kPlantSpore"),p.updatePixel(221,132,"kPlantSpore"),p.updatePixel(222,132,"kPlantSpore"),p.updatePixel(30,170,"kAnimalSpore"),p.updatePixel(31,170,"rPlantSpore"),p.updatePixel(32,170,"rPlantSpore"),p.updatePixel(33,170,"kAnimalSpore"),p.updatePixel(30,171,"rPlantSpore"),p.updatePixel(31,171,"rPlantSpore"),p.updatePixel(32,171,"rPlantSpore"),p.updatePixel(33,171,"rPlantSpore"),p.updatePixel(30,172,"rPlantSpore"),p.updatePixel(31,172,"rPlantSpore"),p.updatePixel(32,172,"rPlantSpore"),p.updatePixel(33,172,"rPlantSpore"),p.updatePixel(30,173,"kAnimalSpore"),p.updatePixel(31,173,"rPlantSpore"),p.updatePixel(32,173,"rPlantSpore"),p.updatePixel(33,173,"kAnimalSpore")};!function e(){p.updateGarden(),p.renderGarden(),requestAnimationFrame(e)}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhcmRlbi9nYXJkZW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Nwb3JlL3Nwb3Jlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2FyZGVuIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJzcG9yZXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiZ2FyZGVuIiwiZ2VuZXJhdGVHYXJkZW4iLCJjb21wZXRlQXJyIiwiZ2VuZXJhdGVDb21wZXRlQXJyIiwiYXJyIiwic3ViQXJyIiwiaiIsInB1c2giLCJlbXB0eSIsIngiLCJ5Iiwic3BvcmVOYW1lIiwidHlwZSIsImNvdW50IiwibmVpZ2hib3JQaXhlbHMiLCJsZW5ndGgiLCJtb3ZlIiwibW92ZVgiLCJtb3ZlWSIsInNwb3JlIiwiZ3Jvd3RoUGF0dGVybiIsImNvbGxlY3Rpb24iLCJ2YWx1ZXMiLCJjdXJyU3BvcmUiLCJjdXJyU2NvcmUiLCJyb2xsIiwiTWF0aCIsInJhbmRvbSIsImdyb3d0aFJhdGUiLCJ0b3VnaG5lc3MiLCJjb3VudE5laWdoYm9ycyIsIm5ld1Nwb3JlUm9sbCIsIm9sZFNwb3JlUm9sbCIsInByb2Nlc3NDb21wZXRpdGlvbiIsInByb2Nlc3NBbmltYWxWc0Z1bmd1cyIsImxpZmVTcGFuIiwicmVwcm9kdWN0aW9uIiwiY29tcGV0ZUNvbGxlY3Rpb24iLCJzb3J0Q29tcGV0aXRpb24iLCJmaWxsU3R5bGUiLCJjb2xvciIsImZpbGxSZWN0IiwickRlYWQiLCJtRGVhZCIsImtEZWFkIiwiclBsYW50U3BvcmUiLCJtUGxhbnRTcG9yZSIsImtQbGFudFNwb3JlIiwickZ1bmd1c1Nwb3JlIiwibUZ1bmd1c1Nwb3JlIiwia0Z1bmd1c1Nwb3JlIiwickFuaW1hbFNwb3JlIiwibUFuaW1hbFNwb3JlIiwia0FuaW1hbFNwb3JlIiwiY2FudmFzRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwic2VsZWN0ZWRTcG9yZSIsImRyYXciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImZsb29yIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ1cGRhdGVQaXhlbCIsIndpbmRvdyIsImNsZWFyU3RhcnQiLCJpZCIsImNsZWFySGVscCIsInNjcmVlbiIsInNlbGVjdFJQbGFudCIsInNlbGVjdE1QbGFudCIsInNlbGVjdEtQbGFudCIsInNlbGVjdFJGdW5ndXMiLCJzZWxlY3RNRnVuZ3VzIiwic2VsZWN0S0Z1bmd1cyIsInNlbGVjdFJBbmltYWwiLCJzZWxlY3RNQW5pbWFsIiwic2VsZWN0S0FuaW1hbCIsInJlc2V0R2FyZGVuIiwiZGVtb0dhcmRlbiIsImFuaW1hdGUiLCJ1cGRhdGVHYXJkZW4iLCJyZW5kZXJHYXJkZW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFB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QmpFLEVBQU9pRSxZQUFZLElBQUssSUFBSyxlQUM3QmpFLEVBQU9pRSxZQUFZLElBQUssSUFBSyxlQUc3QmpFLEVBQU9pRSxZQUFZLEdBQUksSUFBSyxnQkFDNUJqRSxFQUFPaUUsWUFBWSxHQUFJLElBQUssZUFDNUJqRSxFQUFPaUUsWUFBWSxHQUFJLElBQUssZUFDNUJqRSxFQUFPaUUsWUFBWSxHQUFJLElBQUssZ0JBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGVBQzVCakUsRUFBT2lFLFlBQVksR0FBSSxJQUFLLGdCQUM1QmpFLEVBQU9pRSxZQUFZLEdBQUksSUFBSyxlQUM1QmpFLEVBQU9pRSxZQUFZLEdBQUksSUFBSyxlQUM1QmpFLEVBQU9pRSxZQUFZLEdBQUksSUFBSyxrQkFNbEIsU0FBVmlCLElBQ0FsRixFQUFPbUYsZUFDUG5GLEVBQU9vRixlQUVQQyxzQkFBc0JILEdBRzFCQSIsImZpbGUiOiIuL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXG5jbGFzcyBHYXJkZW4ge1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgd2lkdGgsIGhlaWdodCwgc3BvcmVzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnNwb3JlcyA9IHNwb3JlcztcbiAgICAgICAgdGhpcy5nYXJkZW4gPSB0aGlzLmdlbmVyYXRlR2FyZGVuKCk7XG4gICAgICAgIHRoaXMuY29tcGV0ZUFyciA9IHRoaXMuZ2VuZXJhdGVDb21wZXRlQXJyKCk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVHYXJkZW4oKSB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN1YkFyciA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc3ViQXJyLnB1c2godGhpcy5zcG9yZXMuZW1wdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJyLnB1c2goc3ViQXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDb21wZXRlQXJyKCkge1xuICAgICAgICBsZXQgYXJyID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdWJBcnIgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIHN1YkFyci5wdXNoKHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyci5wdXNoKHN1YkFycik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cblxuICAgIHVwZGF0ZVBpeGVsKHgsIHksIHNwb3JlTmFtZSkge1xuICAgICAgICB0aGlzLmdhcmRlblt4XVt5XSA9IHRoaXMuc3BvcmVzW3Nwb3JlTmFtZV07XG4gICAgfVxuXG4gICAgY291bnROZWlnaGJvcnMoeCwgeSwgdHlwZSkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgbmVpZ2hib3JQaXhlbHMgPSBbXG4gICAgICAgICAgICBbLTEsIDBdLFxuICAgICAgICAgICAgWy0xLCAxXSxcbiAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgIFsxLCAtMV0sXG4gICAgICAgICAgICBbMCwgLTFdLFxuICAgICAgICAgICAgWy0xLCAtMV1cbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9yUGl4ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbW92ZSA9IG5laWdoYm9yUGl4ZWxzW2ldO1xuICAgICAgICAgICAgbGV0IG1vdmVYID0geCArIG1vdmVbMF07XG4gICAgICAgICAgICBsZXQgbW92ZVkgPSB5ICsgbW92ZVsxXTtcbiAgICAgICAgICAgIGlmIChtb3ZlWCA+PSAwICYmIG1vdmVYIDwgdGhpcy53aWR0aCAmJlxuICAgICAgICAgICAgICAgIG1vdmVZID49IDAgJiYgbW92ZVkgPCB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxldCBzcG9yZSA9IHRoaXMuZ2FyZGVuW21vdmVYXVttb3ZlWV07XG4gICAgICAgICAgICAgICAgaWYgKHNwb3JlLnR5cGUgPT09IHR5cGUpIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgcmVwcm9kdWN0aW9uKHgsIHksIHNwb3JlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BvcmUuZ3Jvd3RoUGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1vdmUgPSBzcG9yZS5ncm93dGhQYXR0ZXJuW2ldO1xuICAgICAgICAgICAgbGV0IG1vdmVYID0geCArIG1vdmVbMF07XG4gICAgICAgICAgICBsZXQgbW92ZVkgPSB5ICsgbW92ZVsxXTtcbiAgICAgICAgICAgIGlmIChtb3ZlWCA+PSAwICYmIG1vdmVYIDwgdGhpcy53aWR0aCAmJlxuICAgICAgICAgICAgICAgIG1vdmVZID49IDAgJiYgbW92ZVkgPCB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuY29tcGV0ZUFyclttb3ZlWF1bbW92ZVldO1xuICAgICAgICAgICAgICAgIHBpeGVsW3Nwb3JlLm5hbWVdID0gc3BvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9jZXNzQ29tcGV0aXRpb24oeCwgeSwgY29sbGVjdGlvbiwgdHlwZSkge1xuICAgICAgICBsZXQgc3BvcmVzID0gT2JqZWN0LnZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgICAgbGV0IGN1cnJTcG9yZSA9IG51bGw7XG4gICAgICAgIGxldCBjdXJyU2NvcmUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvbGwgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgbGV0IGdyb3d0aFJhdGUgPSBzcG9yZXNbaV0uZ3Jvd3RoUmF0ZTtcbiAgICAgICAgICAgIGxldCB0b3VnaG5lc3MgPSBzcG9yZXNbaV0udG91Z2huZXNzO1xuICAgICAgICAgICAgaWYgKGdyb3d0aFJhdGUgPiByb2xsXG4gICAgICAgICAgICAgICAgJiYgKHRvdWdobmVzcyAtIHJvbGwpID4gY3VyclNjb3JlXG4gICAgICAgICAgICAgICAgJiYgc3BvcmVzW2ldLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyU3BvcmUgPSBzcG9yZXNbaV07XG4gICAgICAgICAgICAgICAgY3VyclNjb3JlID0gdG91Z2huZXNzIC0gcm9sbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyclNwb3JlICYmIHRoaXMuY291bnROZWlnaGJvcnMoeCwgeSwgY3VyclNwb3JlLnR5cGUpIDwgMykge1xuICAgICAgICAgICAgdGhpcy5nYXJkZW5beF1beV0gPSBjdXJyU3BvcmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9jZXNzQW5pbWFsVnNGdW5ndXMoeCwgeSwgY29sbGVjdGlvbikge1xuICAgICAgICBsZXQgc3BvcmVzID0gT2JqZWN0LnZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgICAgbGV0IGN1cnJTcG9yZSA9IG51bGw7XG4gICAgICAgIGxldCBjdXJyU2NvcmUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvbGwgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgbGV0IGdyb3d0aFJhdGUgPSBzcG9yZXNbaV0uZ3Jvd3RoUmF0ZTtcbiAgICAgICAgICAgIGxldCB0b3VnaG5lc3MgPSBzcG9yZXNbaV0udG91Z2huZXNzO1xuICAgICAgICAgICAgaWYgKGdyb3d0aFJhdGUgPiByb2xsXG4gICAgICAgICAgICAgICAgJiYgKHRvdWdobmVzcyAtIHJvbGwpID4gY3VyclNjb3JlXG4gICAgICAgICAgICAgICAgJiYgc3BvcmVzW2ldLnR5cGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgY3VyclNwb3JlID0gc3BvcmVzW2ldO1xuICAgICAgICAgICAgICAgIGN1cnJTY29yZSA9IHRvdWdobmVzcyAtIHJvbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJTcG9yZSAmJiB0aGlzLmNvdW50TmVpZ2hib3JzKHgsIHksIGN1cnJTcG9yZS50eXBlKSA8IDMpIHtcbiAgICAgICAgICAgIGxldCBuZXdTcG9yZVJvbGwgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgbGV0IG9sZFNwb3JlUm9sbCA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICBpZiAoKGN1cnJTcG9yZS50b3VnaG5lc3MgLSBuZXdTcG9yZVJvbGwpXG4gICAgICAgICAgICAgICAgPiAodGhpcy5nYXJkZW5beF1beV0udG91Z2huZXNzIC0gb2xkU3BvcmVSb2xsKSlcbiAgICAgICAgICAgIHRoaXMuZ2FyZGVuW3hdW3ldID0gY3VyclNwb3JlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc29ydENvbXBldGl0aW9uKHgsIHksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FyZGVuW3hdW3ldLnR5cGUgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NDb21wZXRpdGlvbih4LCB5LCBjb2xsZWN0aW9uLCAxKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhcmRlblt4XVt5XS50eXBlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NDb21wZXRpdGlvbih4LCB5LCBjb2xsZWN0aW9uLCAyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhcmRlblt4XVt5XS50eXBlID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NDb21wZXRpdGlvbih4LCB5LCBjb2xsZWN0aW9uLCAzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhcmRlblt4XVt5XS50eXBlID09PSAyIHx8IHRoaXMuZ2FyZGVuW3hdW3ldLnR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0FuaW1hbFZzRnVuZ3VzKHgsIHksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlR2FyZGVuKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FyZGVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3ViQXJyID0gdGhpcy5nYXJkZW5baV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN1YkFyci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBzcG9yZSA9IHN1YkFycltqXTtcbiAgICAgICAgICAgICAgICBsZXQgcm9sbCA9IE1hdGgucmFuZG9tKCkgPCBzcG9yZS5saWZlU3BhbjtcbiAgICAgICAgICAgICAgICBpZiAoc3BvcmUudHlwZSA9PT0gMSAmJiAhcm9sbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcmRlbltpXVtqXSA9IHRoaXMuc3BvcmVzW3Nwb3JlLm5hbWVbMF0gKyAnRGVhZCddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BvcmUudHlwZSA9PT0gMCAmJiByb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcG9yZS50eXBlID4gMCAmJiByb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9kdWN0aW9uKGksIGosIHNwb3JlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcmRlbltpXVtqXSA9IHRoaXMuc3BvcmVzLmVtcHR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb21wZXRlQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3ViQXJyID0gdGhpcy5jb21wZXRlQXJyW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdWJBcnIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tcGV0ZUNvbGxlY3Rpb24gPSB0aGlzLmNvbXBldGVBcnJbaV1bal07XG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0Q29tcGV0aXRpb24oaSwgaiwgY29tcGV0ZUNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGV0ZUFycltpXVtqXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyR2FyZGVuKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FyZGVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3ViQXJyID0gdGhpcy5nYXJkZW5baV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN1YkFyci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmZpbGxTdHlsZSA9IHN1YkFycltqXS5jb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5maWxsUmVjdChpICogMiwgaiAqIDIsIDIsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHYXJkZW47IiwiY29uc3QgZW1wdHkgPSB7XG4gICAgZ3Jvd3RoUmF0ZTogMCxcbiAgICBncm93dGhQYXR0ZXJuOiBbXSxcbiAgICB0b3VnaG5lc3M6IDAsXG4gICAgbGlmZVNwYW46IDAsXG4gICAgdHlwZTogLTEsXG4gICAgbmFtZTogJ2VtcHR5JyxcbiAgICBjb2xvcjogJyMxRDFEMUQnXG59O1xuXG5jb25zdCByRGVhZCA9IHtcbiAgICBncm93dGhSYXRlOiAwLFxuICAgIGdyb3d0aFBhdHRlcm46IFtdLFxuICAgIHRvdWdobmVzczogMSxcbiAgICBsaWZlU3BhbjogMC41LFxuICAgIHR5cGU6IDAsXG4gICAgbmFtZTogJ3JEZWFkJyxcbiAgICBjb2xvcjogJyM2ODU0M2MnXG59O1xuXG5jb25zdCBtRGVhZCA9IHtcbiAgICBncm93dGhSYXRlOiAwLFxuICAgIGdyb3d0aFBhdHRlcm46IFtdLFxuICAgIHRvdWdobmVzczogMSxcbiAgICBsaWZlU3BhbjogMC45OSxcbiAgICB0eXBlOiAwLFxuICAgIG5hbWU6ICdtRGVhZCcsXG4gICAgY29sb3I6ICcjNmY0OTFkJ1xufTtcblxuY29uc3Qga0RlYWQgPSB7XG4gICAgZ3Jvd3RoUmF0ZTogMCxcbiAgICBncm93dGhQYXR0ZXJuOiBbXSxcbiAgICB0b3VnaG5lc3M6IDEsXG4gICAgbGlmZVNwYW46IDAuOTk5LFxuICAgIHR5cGU6IDAsXG4gICAgbmFtZTogJ2tEZWFkJyxcbiAgICBjb2xvcjogJyM0NDJkMTInXG59O1xuXG5jb25zdCByUGxhbnRTcG9yZSA9IHtcbiAgICBncm93dGhSYXRlOiAwLjk5LFxuICAgIGdyb3d0aFBhdHRlcm46IFtcbiAgICAgICAgWy0zLCAwXSxcbiAgICAgICAgWy0yLCAyXSxcbiAgICAgICAgWzAsIDNdLFxuICAgICAgICBbMiwgMl0sXG4gICAgICAgIFszLCAwXSxcbiAgICAgICAgWzIsIC0yXSxcbiAgICAgICAgWzAsIC0zXSxcbiAgICAgICAgWy0yLCAtMl1cbiAgICBdLFxuICAgIHRvdWdobmVzczogMC4zLFxuICAgIGxpZmVTcGFuOiAwLjUsXG4gICAgdHlwZTogMSxcbiAgICBuYW1lOiAnclBsYW50U3BvcmUnLFxuICAgIGNvbG9yOiAnI2I3ZmY2YSdcbn07XG5cbmNvbnN0IG1QbGFudFNwb3JlID0ge1xuICAgIGdyb3d0aFJhdGU6IDAuMixcbiAgICBncm93dGhQYXR0ZXJuOiBbXG4gICAgICAgIFstMSwgMF0sXG4gICAgICAgIFstMSwgMV0sXG4gICAgICAgIFswLCAxXSxcbiAgICAgICAgWzEsIDFdLFxuICAgICAgICBbMSwgMF0sXG4gICAgICAgIFsxLCAtMV0sXG4gICAgICAgIFswLCAtMV0sXG4gICAgICAgIFstMSwgLTFdXG4gICAgXSxcbiAgICB0b3VnaG5lc3M6IDAuNSxcbiAgICBsaWZlU3BhbjogMC45LFxuICAgIHR5cGU6IDEsXG4gICAgbmFtZTogJ21QbGFudFNwb3JlJyxcbiAgICBjb2xvcjogJyM1MkZGMDAnXG59O1xuXG5jb25zdCBrUGxhbnRTcG9yZSA9IHtcbiAgICBncm93dGhSYXRlOiAwLjEsXG4gICAgZ3Jvd3RoUGF0dGVybjogW1xuICAgICAgICBbLTEsIDBdLFxuICAgICAgICBbMCwgMV0sXG4gICAgICAgIFsxLCAwXSxcbiAgICAgICAgWzAsIC0xXVxuICAgIF0sXG4gICAgdG91Z2huZXNzOiAwLjksXG4gICAgbGlmZVNwYW46IDAuOTksXG4gICAgdHlwZTogMSxcbiAgICBuYW1lOiAna1BsYW50U3BvcmUnLFxuICAgIGNvbG9yOiAnIzAzODQwMCdcbn07XG5cbmNvbnN0IHJGdW5ndXNTcG9yZSA9IHtcbiAgICBncm93dGhSYXRlOiAwLjk5LFxuICAgIGdyb3d0aFBhdHRlcm46IFtcbiAgICAgICAgWy0xLCAwXSxcbiAgICAgICAgWy0yLCAyXSxcbiAgICAgICAgWzAsIDFdLFxuICAgICAgICBbMiwgMl0sXG4gICAgICAgIFsxLCAwXSxcbiAgICAgICAgWzIsIC0yXSxcbiAgICAgICAgWzAsIC0xXSxcbiAgICAgICAgWy0yLCAtMl1cbiAgICBdLFxuICAgIHRvdWdobmVzczogMC4zLFxuICAgIGxpZmVTcGFuOiAwLjcsXG4gICAgdHlwZTogMixcbiAgICBuYW1lOiAnckZ1bmd1c1Nwb3JlJyxcbiAgICBjb2xvcjogJyNiM2ZmZTUnXG59O1xuXG5jb25zdCBtRnVuZ3VzU3BvcmUgPSB7XG4gICAgZ3Jvd3RoUmF0ZTogMC4yLFxuICAgIGdyb3d0aFBhdHRlcm46IFtcbiAgICAgICAgWy0xLCAwXSxcbiAgICAgICAgWy0xLCAxXSxcbiAgICAgICAgWzAsIDFdLFxuICAgICAgICBbMSwgMV0sXG4gICAgICAgIFsxLCAwXSxcbiAgICAgICAgWzEsIC0xXSxcbiAgICAgICAgWzAsIC0xXSxcbiAgICAgICAgWy0xLCAtMV1cbiAgICBdLFxuICAgIHRvdWdobmVzczogMC41LFxuICAgIGxpZmVTcGFuOiAwLjksXG4gICAgdHlwZTogMixcbiAgICBuYW1lOiAnbUZ1bmd1c1Nwb3JlJyxcbiAgICBjb2xvcjogJyMwMGZjZmYnXG59O1xuXG5jb25zdCBrRnVuZ3VzU3BvcmUgPSB7XG4gICAgZ3Jvd3RoUmF0ZTogMC4xLFxuICAgIGdyb3d0aFBhdHRlcm46IFtcbiAgICAgICAgWy0xLCAwXSxcbiAgICAgICAgWzAsIDFdLFxuICAgICAgICBbMSwgMF0sXG4gICAgICAgIFswLCAtMV1cbiAgICBdLFxuICAgIHRvdWdobmVzczogMC45LFxuICAgIGxpZmVTcGFuOiAwLjk5LFxuICAgIHR5cGU6IDIsXG4gICAgbmFtZTogJ2tGdW5ndXNTcG9yZScsXG4gICAgY29sb3I6ICcjMDA4M2M3J1xufTtcblxuY29uc3QgckFuaW1hbFNwb3JlID0ge1xuICAgIGdyb3d0aFJhdGU6IDAuOSxcbiAgICBncm93dGhQYXR0ZXJuOiBbXG4gICAgICAgIFstNCwgMF0sXG4gICAgICAgIFstMywgM10sXG4gICAgICAgIFswLCA0XSxcbiAgICAgICAgWzMsIDNdLFxuICAgICAgICBbNCwgMF0sXG4gICAgICAgIFszLCAtM10sXG4gICAgICAgIFswLCAtNF0sXG4gICAgICAgIFstMywgLTNdXG4gICAgXSxcbiAgICB0b3VnaG5lc3M6IDAuMyxcbiAgICBsaWZlU3BhbjogMC45LFxuICAgIHR5cGU6IDMsXG4gICAgbmFtZTogJ3JBbmltYWxTcG9yZScsXG4gICAgY29sb3I6ICcjZmY3YzY2J1xufTtcblxuY29uc3QgbUFuaW1hbFNwb3JlID0ge1xuICAgIGdyb3d0aFJhdGU6IDAuNyxcbiAgICBncm93dGhQYXR0ZXJuOiBbXG4gICAgICAgIFstMywgMF0sXG4gICAgICAgIFstMiwgMl0sXG4gICAgICAgIFswLCAzXSxcbiAgICAgICAgWzIsIDJdLFxuICAgICAgICBbMywgMF0sXG4gICAgICAgIFsyLCAtMl0sXG4gICAgICAgIFswLCAtM10sXG4gICAgICAgIFstMiwgLTJdXG4gICAgXSxcbiAgICB0b3VnaG5lc3M6IDAuNSxcbiAgICBsaWZlU3BhbjogMC45NSxcbiAgICB0eXBlOiAzLFxuICAgIG5hbWU6ICdtQW5pbWFsU3BvcmUnLFxuICAgIGNvbG9yOiAnI2ZmMjQwMCdcbn07XG5cbmNvbnN0IGtBbmltYWxTcG9yZSA9IHtcbiAgICBncm93dGhSYXRlOiAwLjUsXG4gICAgZ3Jvd3RoUGF0dGVybjogW1xuICAgICAgICBbLTEsIDBdLFxuICAgICAgICBbLTEsIDFdLFxuICAgICAgICBbMCwgMV0sXG4gICAgICAgIFsxLCAxXSxcbiAgICAgICAgWzEsIDBdLFxuICAgICAgICBbMSwgLTFdLFxuICAgICAgICBbMCwgLTFdLFxuICAgICAgICBbLTEsIC0xXVxuICAgIF0sXG4gICAgdG91Z2huZXNzOiAwLjksXG4gICAgbGlmZVNwYW46IDAuOTksXG4gICAgdHlwZTogMyxcbiAgICBuYW1lOiAna0FuaW1hbFNwb3JlJyxcbiAgICBjb2xvcjogJyM5ZDE2MDAnXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBlbXB0eSxcbiAgICByRGVhZCxcbiAgICBtRGVhZCxcbiAgICBrRGVhZCxcbiAgICByUGxhbnRTcG9yZSxcbiAgICBtUGxhbnRTcG9yZSxcbiAgICBrUGxhbnRTcG9yZSxcbiAgICByRnVuZ3VzU3BvcmUsXG4gICAgbUZ1bmd1c1Nwb3JlLFxuICAgIGtGdW5ndXNTcG9yZSxcbiAgICByQW5pbWFsU3BvcmUsXG4gICAgbUFuaW1hbFNwb3JlLFxuICAgIGtBbmltYWxTcG9yZVxufTsiLCJpbXBvcnQgR2FyZGVuIGZyb20gJy4vZ2FyZGVuL2dhcmRlbic7XG5pbXBvcnQgc3BvcmVzIGZyb20gJy4vc3BvcmUvc3BvcmVzJztcblxubGV0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG5sZXQgY2FudmFzID0gY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuXG5sZXQgZ2FyZGVuID0gbmV3IEdhcmRlbihjYW52YXMsIDMwMCwgMjAwLCBzcG9yZXMpO1xubGV0IHNlbGVjdGVkU3BvcmUgPSAnbVBsYW50U3BvcmUnO1xubGV0IGRyYXcgPSBmYWxzZTtcblxuY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHtcbiAgICBkcmF3ID0gdHJ1ZTtcblxuICAgIGxldCB4ID0gW01hdGguZmxvb3IoZS5vZmZzZXRYIC8gMildO1xuICAgIGxldCB5ID0gW01hdGguZmxvb3IoZS5vZmZzZXRZIC8gMildO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCh4LCB5LCBzZWxlY3RlZFNwb3JlKTtcbn0pO1xuXG5jYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4ge1xuICAgIGlmIChkcmF3KSB7XG4gICAgICAgIGxldCB4ID0gW01hdGguZmxvb3IoZS5vZmZzZXRYIC8gMildO1xuICAgICAgICBsZXQgeSA9IFtNYXRoLmZsb29yKGUub2Zmc2V0WSAvIDIpXTtcbiAgICAgICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKHgsIHksIHNlbGVjdGVkU3BvcmUpO1xuICAgIH1cbn0pO1xuXG5jYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHtcbiAgICBkcmF3ID0gZmFsc2U7XG59KTtcblxuY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZSA9PiB7XG4gICAgZHJhdyA9IGZhbHNlO1xufSk7XG5cblxuXG5jb25zdCBjbGVhclN0YXJ0ID0gKCkgPT4ge1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtc2NyZWVuJyk7XG4gICAgc2NyZWVuLmlkID0gJ2hpZGRlbic7XG59O1xuXG53aW5kb3cuY2xlYXJTdGFydCA9IGNsZWFyU3RhcnQ7XG5cbmNvbnN0IGNsZWFySGVscCA9ICgpID0+IHtcbiAgICBsZXQgc2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlbHAtZGlhbG9nJyk7XG4gICAgaWYgKHNjcmVlbikge1xuICAgICAgICBzY3JlZW4uaWQgPSAnaGlkZGVuJztcbiAgICB9XG59O1xuXG53aW5kb3cuY2xlYXJIZWxwID0gY2xlYXJIZWxwO1xuXG5cblxuY29uc3Qgc2VsZWN0UlBsYW50ID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkU3BvcmUgPSAnclBsYW50U3BvcmUnO1xufTtcblxud2luZG93LnNlbGVjdFJQbGFudCA9IHNlbGVjdFJQbGFudDtcblxuY29uc3Qgc2VsZWN0TVBsYW50ID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkU3BvcmUgPSAnbVBsYW50U3BvcmUnO1xufTtcblxud2luZG93LnNlbGVjdE1QbGFudCA9IHNlbGVjdE1QbGFudDtcblxuY29uc3Qgc2VsZWN0S1BsYW50ID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkU3BvcmUgPSAna1BsYW50U3BvcmUnO1xufTtcblxud2luZG93LnNlbGVjdEtQbGFudCA9IHNlbGVjdEtQbGFudDtcblxuXG5cbmNvbnN0IHNlbGVjdFJGdW5ndXMgPSAoKSA9PiB7XG4gICAgc2VsZWN0ZWRTcG9yZSA9ICdyRnVuZ3VzU3BvcmUnO1xufTtcblxud2luZG93LnNlbGVjdFJGdW5ndXMgPSBzZWxlY3RSRnVuZ3VzO1xuXG5jb25zdCBzZWxlY3RNRnVuZ3VzID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkU3BvcmUgPSAnbUZ1bmd1c1Nwb3JlJztcbn07XG5cbndpbmRvdy5zZWxlY3RNRnVuZ3VzID0gc2VsZWN0TUZ1bmd1cztcblxuY29uc3Qgc2VsZWN0S0Z1bmd1cyA9ICgpID0+IHtcbiAgICBzZWxlY3RlZFNwb3JlID0gJ2tGdW5ndXNTcG9yZSc7XG59O1xuXG53aW5kb3cuc2VsZWN0S0Z1bmd1cyA9IHNlbGVjdEtGdW5ndXM7XG5cblxuXG5jb25zdCBzZWxlY3RSQW5pbWFsID0gKCkgPT4ge1xuICAgIHNlbGVjdGVkU3BvcmUgPSAnckFuaW1hbFNwb3JlJztcbn07XG5cbndpbmRvdy5zZWxlY3RSQW5pbWFsID0gc2VsZWN0UkFuaW1hbDtcblxuY29uc3Qgc2VsZWN0TUFuaW1hbCA9ICgpID0+IHtcbiAgICBzZWxlY3RlZFNwb3JlID0gJ21BbmltYWxTcG9yZSc7XG59O1xuXG53aW5kb3cuc2VsZWN0TUFuaW1hbCA9IHNlbGVjdE1BbmltYWw7XG5cbmNvbnN0IHNlbGVjdEtBbmltYWwgPSAoKSA9PiB7XG4gICAgc2VsZWN0ZWRTcG9yZSA9ICdrQW5pbWFsU3BvcmUnO1xufTtcblxud2luZG93LnNlbGVjdEtBbmltYWwgPSBzZWxlY3RLQW5pbWFsO1xuXG5cblxuY29uc3QgcmVzZXRHYXJkZW4gPSAoKSA9PiB7XG4gICAgZ2FyZGVuID0gbmV3IEdhcmRlbihjYW52YXMsIDMwMCwgMjAwLCBzcG9yZXMpO1xufTtcblxud2luZG93LnJlc2V0R2FyZGVuID0gcmVzZXRHYXJkZW47XG5cbmNvbnN0IGRlbW9HYXJkZW4gPSAoKSA9PiB7XG4gICAgZ2FyZGVuID0gbmV3IEdhcmRlbihjYW52YXMsIDMwMCwgMjAwLCBzcG9yZXMpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgxMDAsIDUwLCAnbVBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMTAxLCA1MCwgJ2tGdW5ndXNTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgxMDIsIDUwLCAnbVBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMTAwLCA1MSwgJ21QbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDEwMSwgNTEsICdrRnVuZ3VzU3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMTAyLCA1MSwgJ21QbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDEwMCwgNTIsICdtUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgxMDEsIDUyLCAna0Z1bmd1c1Nwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDEwMiwgNTIsICdtUGxhbnRTcG9yZScpO1xuXG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDIyMCwgMTMwLCAna1BsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMjIxLCAxMzAsICdrUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgyMjIsIDEzMCwgJ2tQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDIyMCwgMTMxLCAna1BsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMjIxLCAxMzEsICdrUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgyMjIsIDEzMSwgJ2tQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDIyMCwgMTMyLCAna1BsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMjIxLCAxMzIsICdrUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgyMjIsIDEzMiwgJ2tQbGFudFNwb3JlJyk7XG5cblxuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMCwgMTcwLCAna0FuaW1hbFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDMxLCAxNzAsICdyUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMiwgMTcwLCAnclBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMzMsIDE3MCwgJ2tBbmltYWxTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMCwgMTcxLCAnclBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMzEsIDE3MSwgJ3JQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDMyLCAxNzEsICdyUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMywgMTcxLCAnclBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMzAsIDE3MiwgJ3JQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDMxLCAxNzIsICdyUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMiwgMTcyLCAnclBsYW50U3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMzMsIDE3MiwgJ3JQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDMwLCAxNzMsICdrQW5pbWFsU3BvcmUnKTtcbiAgICBnYXJkZW4udXBkYXRlUGl4ZWwoMzEsIDE3MywgJ3JQbGFudFNwb3JlJyk7XG4gICAgZ2FyZGVuLnVwZGF0ZVBpeGVsKDMyLCAxNzMsICdyUGxhbnRTcG9yZScpO1xuICAgIGdhcmRlbi51cGRhdGVQaXhlbCgzMywgMTczLCAna0FuaW1hbFNwb3JlJyk7XG59O1xuXG53aW5kb3cuZGVtb0dhcmRlbiA9IGRlbW9HYXJkZW47XG5cblxubGV0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgZ2FyZGVuLnVwZGF0ZUdhcmRlbigpO1xuICAgIGdhcmRlbi5yZW5kZXJHYXJkZW4oKTtcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbn07XG5cbmFuaW1hdGUoKTsiXSwic291cmNlUm9vdCI6IiJ9